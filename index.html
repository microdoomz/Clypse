<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clypse - Simple File & Clipboard Sharing</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Clypse</h1>
            <p>Simple file and clipboard sharing across devices</p>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('files')">File Sharing</button>
            <button class="nav-tab" onclick="switchTab('clipboard')">Clipboard</button>
        </nav>

        <!-- File Sharing Tab -->
        <div id="filesTab" class="tab-content active">
            <div class="section-grid">
                <!-- Upload Section -->
                <div class="card">
                    <h3>Upload File</h3>
                    <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                        <div class="upload-icon">üìÅ</div>
                        <p>Click to upload file</p>
                        <small>Max 2GB</small>
                        <input type="file" id="fileInput" style="display: none;">
                    </div>
                    <div id="uploadProgress" class="progress-bar hidden">
                        <div class="progress-fill"></div>
                        <span class="progress-text">Uploading...</span>
                    </div>
                </div>

                <!-- Access with Code -->
                <div class="card">
                    <h3>Access File</h3>
                    <div class="input-group">
                        <input type="text" id="accessCode" placeholder="Enter 4-digit code" maxlength="4">
                        <button onclick="accessFile()">Download</button>
                    </div>
                </div>
            </div>

            <!-- File List -->
            <div class="card">
                <h3>Your Files</h3>
                <div id="filesList" class="files-list">
                    <p class="empty-state">No files uploaded yet</p>
                </div>
            </div>
        </div>

        <!-- Clipboard Tab -->
        <div id="clipboardTab" class="tab-content">
            <div class="section-grid">
                <!-- Room Management -->
                <div class="card">
                    <h3>Clipboard Room</h3>
                    <div class="input-group">
                        <input type="text" id="joinCode" placeholder="Enter room code" maxlength="4">
                        <button onclick="joinRoom()">Join</button>
                    </div>
                    <button class="btn btn--secondary" onclick="createRoom()">Create New Room</button>
                    
                    <div id="roomStatus" class="room-status hidden">
                        <p>Connected to room: <strong id="currentRoomCode">-</strong></p>
                        <button onclick="copyRoomLink()">Copy Room Link</button>
                    </div>
                </div>

                <!-- Clipboard Content -->
                <div class="card">
                    <h3>Shared Clipboard</h3>
                    <textarea id="clipboardContent" placeholder="Join a room to start sharing..." disabled rows="8"></textarea>
                    <div class="button-group">
                        <button onclick="copyToSystemClipboard()" disabled id="copyBtn">Copy</button>
                        <button onclick="clearClipboard()" disabled id="clearBtn">Clear</button>
                    </div>
                </div>
            </div>

            <!-- Message History -->
            <div class="card">
                <h3>Recent Messages</h3>
                <div id="messageList" class="message-list">
                    <p class="empty-state">Join a room to see messages</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div id="notifications" class="notifications"></div>

    <script src="app.js"></script>
</body>
</html>